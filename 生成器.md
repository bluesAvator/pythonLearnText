# 生成器（generator）

通过列表生成式，可以创建列表

但是收到内存限制，列表容量是有限的

生成器就是为了解决这种情况：

生成器并不会创建完整的list，而是一边循环一边计算后续的元素

## 创建geneator的方法

### 1、把列表生成式的[]改成()

`g = (x * x for x in range(10))`







如何打印出generator的每一个元素

1、一个一个打印：通过next函数可以获得generator的下一个返回值

2、for循环：

```python
for n in g:
    print(n)
```

### 2、如果一个函数定义中包含yield关键字，那么这个函数会成为一个generator函数，调用这个函数会返回一个generator

```python
# yield关键字：
# generator函数在每次调用next()的时候执行，遇到yield语句就返回，再次执行时从上次返回的yield语句继续执行
def fib(max):
    n, a, b = 0, 0, 1
    while n < max:
        yield b
        a, b = b, a + b
        n = n + 1
    return 'done'
```

**注意点**：

```python
def odd():
    print('step 1')
    yield 1
    print('step 2')
    yield(3)
    print('step 3')
    yield(5)
# 关于这个构造器函数的调用形式
# 正确： ↓↓↓↓
o = odd()
next(o)
next(o)
next(o)
# 错误： ↓↓↓↓
next(odd())
next(odd())
next(odd())
# 解释：这样调用时每次next都会创建一个新的generator对象
```

